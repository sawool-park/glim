
# MFC Dialog 기반 외접원 그리기 프로그램

## 📌 요구사항

- **클릭 기반 원 그리기**
  - 마우스 클릭으로 최대 3개의 점을 입력 받습니다.
  - 세 번째 클릭 이후, 세 지점을 모두 지나는 외접원(정원)을 하나 그립니다.
  - 클릭 지점에 생성되는 작은 원의 반지름은 사용자 입력으로 설정됩니다.
  - 클릭된 각 작은 원의 중심 좌표는 UI에 표시됩니다.

- **정원의 그리기 조건**
  - 정원은 내부가 채워지지 않은 외곽선만 그립니다.
  - 외곽선의 두께는 사용자 입력으로 조절할 수 있습니다.
  - 네 번째 클릭부터는 더 이상 원을 추가로 그리지 않습니다.

- **드래그 기능**
  - 사용자가 클릭한 세 점 중 하나를 드래그할 수 있습니다.
  - 드래그 도중 실시간으로 외접원이 새롭게 계산되고 그려집니다.
  - 마우스 이동 도중 매끄러운 렌더링을 위해 초당 최대 200회만 Redraw 되도록 제어합니다.

- **초기화 및 랜덤 이동**
  - `[초기화]` 버튼: 현재 그려진 모든 내용을 삭제하고 초기 상태로 복귀합니다.
  - `[랜덤 이동]` 버튼:
    - 세 개의 클릭 지점 원을 랜덤한 위치로 이동시킵니다.
    - 외접원도 자동으로 새롭게 계산되어 다시 그려집니다.
    - 랜덤 이동은 초당 2회, 총 10회 반복되며, 메인 UI는 프리징되지 않아야 합니다.
    - 랜덤 이동은 별도의 백그라운드 스레드에서 수행됩니다.

- **제한 사항**
  - CDC 클래스를 직접 사용하지 않고, CImage를 사용하여 그림을 그려야 합니다.

---

## 🛠️ 프로그램 설계

- **더블 버퍼링**
  - CImage를 활용한 더블버퍼링으로 플리커링 현상을 방지합니다.

- **스레드 구조**
  - 영상 처리를 위한 백그라운드 스레드를 사용합니다.
  - 랜덤 이동은 `Timer`를 통해 동작을 스케줄링하며, 별도의 메시지를 백그라운드에 전송합니다.
  - GUI와 백그라운드 스레드는 MFC의 윈도우 메시지 기반 비동기 통신으로 연결됩니다.
  - 필요 시 `Event` 및 `WaitForSingleObject`를 사용하여 순서 제어 및 결과 확인을 수행합니다.

- **원 객체 구조**
  - 작은 원은 반지름을 사용자로부터 입력받아 생성되며, 최대 3개까지만 허용됩니다.
  - 각 원은 메모리에 캐싱되어 재사용됩니다.
  - 외접원은 세 개의 클릭 지점 중심을 기반으로 계산됩니다.
  - 외접원은 내부가 채워지지 않고, 사용자 입력으로 두께를 조절할 수 있습니다.

- **성능 최적화**
  - 마우스 드래그 시 Redraw 이벤트를 초당 200회로 제한하여 부하를 제어합니다.
  - 그려지는 영역에 대한 Bounding Rectangle을 계산하여 지우는 영역을 최소화합니다.

- **좌표 UI 표시**
  - 드래그 중인 원의 중심 좌표가 UI 상에 표시되며, 위치에 따라 자동으로 UI 위치가 조정됩니다.
  - 화면의 중심을 기준으로 좌표 정보가 가려지지 않도록 배치됩니다.

---

## 💻 개발 환경

- Microsoft Visual Studio (MFC)
- Windows API
- GDI+ (CImage 사용)
- 멀티스레딩: CWinThread 또는 std::thread

---

## 📂 디렉토리 구조 예시

```
MyCircleApp/
├── res/
├── src/
│   ├── CircleObject.h/.cpp
│   ├── CircleDrawer.h/.cpp
│   ├── MainDlg.cpp
│   └── ...
├── README.md
└── MyCircleApp.sln
```

---

## ✨ 스크린샷 (옵션)

> 필요 시 여기 추가하세요

---

## 📝 저작권

본 프로젝트는 개인 학습 및 포트폴리오 용도로 사용되었습니다.
